// Gypsy Sport - Al La Do - Interactive Teaser
// (c) 2016 Luxloop
function animate(){""!==mostRecent?"l"==mostRecent?$("#vidWindow").scrollTop(top1):"r"==mostRecent&&$("#vidWindow").scrollTop(top2):leftDown?$("#vidWindow").scrollTop(top1):rightDown?$("#vidWindow").scrollTop(top2):$("#vidWindow").scrollTop(1),requestAnimationFrame(animate)}function canPlayThrough(){console.log("video can play"),clearTimeout(timeOut),setReadyToPlay()}function setReadyToPlay(){$("#imgCover").removeClass("loading"),$("#imgCover").addClass("loaded"),hasLoaded=!0}function resizeContainer(){var e,o=.555555556,n=1.6875,t=window.innerWidth;$("body").hasClass("embedded")?e=t:$("body").hasClass("ownPage")&&(e=t>1700?.6*t:t>1400?.7*t:t>600?.8*t:.9*t),void 0!==e&&($("body #vidWindow").css({width:e,height:e*o}),$("body #theVideo").css({width:e,height:e*n}),top2=.563888889*e,top1=1.122222222*e)}function on_resize(e,o){return onresize=function(){clearTimeout(o),o=setTimeout(e,250)},e}var leftDown=!1,rightDown=!1,mostRecent="",top1=808,top2=406,hasLoaded=!1,timeOut;$(document).ready(function(){$("#theVideo").on("canplaythrough",canPlayThrough),$("#theVideo").attr("src","vid/gs.mp4");var e=window.location.href;e.indexOf("luxloop")>-1?console.log("Demo - keep the Volume up"):document.getElementById("theVideo").volume=0;var o=document.createElement("div");o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.width="100%",o.style.zIndex="22",o.style.textAlign="center",o.style.fontSize="1.5rem",o.style.background="rgba(0,0,0,0.5)",o.innerHTML="Music removed at the request of Westbrook Entertainment",$("#vidWindow").append(o),resizeContainer(),animate()}),$(document).keydown(function(e){switch(e.keyCode){case 37:e.preventDefault(),leftDown=!0,mostRecent="l";break;case 39:rightDown=!0,mostRecent="r"}}),$("#imgCover").click(function(e){if(e.preventDefault(),hasLoaded){$(this).addClass("hidden");var o=document.getElementById("theVideo");o.play()}}),$(document).keyup(function(e){switch(mostRecent="",e.keyCode){case 37:e.preventDefault(),leftDown=!1;break;case 39:e.preventDefault(),rightDown=!1;break;case 38:case 40:e.preventDefault()}}),$("#vidWindow video").click(function(e){e.preventDefault();var o=document.getElementById("theVideo");o.paused?o.play():o.pause()});var theVid=document.getElementById("theVideo");theVid.onended=function(){$("#imgCover").removeClass("hidden")},on_resize(function(){resizeContainer()}),function(){for(var e,o=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],t=n.length,i=window.console=window.console||{};t--;)e=n[t],i[e]||(i[e]=o)}(),
// MIT license
function(){for(var e=0,o=["ms","moz","webkit","o"],n=0;n<o.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[o[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[o[n]+"CancelAnimationFrame"]||window[o[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(o,n){var t=(new Date).getTime(),i=Math.max(0,16-(t-e)),a=window.setTimeout(function(){o(t+i)},i);return e=t+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();