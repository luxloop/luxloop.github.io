// Gypsy Sport - Al La Do - Interactive Teaser
// (c) 2016 Luxloop
function animate(){""!==mostRecent?"l"==mostRecent?$("#vidWindow").scrollTop(top1):"r"==mostRecent&&$("#vidWindow").scrollTop(top2):leftDown?$("#vidWindow").scrollTop(top1):rightDown?$("#vidWindow").scrollTop(top2):$("#vidWindow").scrollTop(1),requestAnimationFrame(animate)}function canPlayThrough(){console.log("video can play"),clearTimeout(timeOut),setReadyToPlay()}function setReadyToPlay(){$("#imgCover").removeClass("loading"),$("#imgCover").addClass("loaded"),hasLoaded=!0}function resizeContainer(){var e,t=.555555556,n=1.6875,o=window.innerWidth;$("body").hasClass("embedded")?e=o:$("body").hasClass("ownPage")&&(e=o>1700?.6*o:o>1400?.7*o:o>600?.8*o:.9*o),void 0!==e&&($("body #vidWindow").css({width:e,height:e*t}),$("body #theVideo").css({width:e,height:e*n}),top2=.563888889*e,top1=1.122222222*e)}function on_resize(e,t){return onresize=function(){clearTimeout(t),t=setTimeout(e,250)},e}var leftDown=!1,rightDown=!1,mostRecent="",top1=808,top2=406,hasLoaded=!1,timeOut;$(document).ready(function(){$("#theVideo").on("canplaythrough",canPlayThrough),$("#theVideo").attr("src","vid/gs.mp4"),document.getElementById("theVideo").volume=0;var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.width="100%",e.style.zIndex="22",e.style.textAlign="center",e.style.fontSize="1.5rem",e.style.background="rgba(0,0,0,0.5)",e.innerHTML="Music removed at the request of Westbrook Entertainment",$("#vidWindow").append(e),resizeContainer(),animate()}),$(document).keydown(function(e){switch(e.keyCode){case 37:e.preventDefault(),leftDown=!0,mostRecent="l";break;case 39:rightDown=!0,mostRecent="r"}}),$("#imgCover").click(function(e){if(e.preventDefault(),hasLoaded){$(this).addClass("hidden");var t=document.getElementById("theVideo");t.play()}}),$(document).keyup(function(e){switch(mostRecent="",e.keyCode){case 37:e.preventDefault(),leftDown=!1;break;case 39:e.preventDefault(),rightDown=!1;break;case 38:case 40:e.preventDefault()}}),$("#vidWindow video").click(function(e){e.preventDefault();var t=document.getElementById("theVideo");t.paused?t.play():t.pause()});var theVid=document.getElementById("theVideo");theVid.onended=function(){$("#imgCover").removeClass("hidden")},on_resize(function(){resizeContainer()}),function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],o=n.length,i=window.console=window.console||{};o--;)e=n[o],i[e]||(i[e]=t)}(),
// MIT license
function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var o=(new Date).getTime(),i=Math.max(0,16-(o-e)),a=window.setTimeout(function(){t(o+i)},i);return e=o+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();